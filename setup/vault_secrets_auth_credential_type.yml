---
name: Vault Secrets Auth
kind: cloud
description: >
  Stores Vault connection details and authentication parameters (token, AppRole, JWT).
inputs:
  fields:
    - id: url
      type: string
      label: Vault URL
      help_text: "Base URL of Vault (e.g., https://vault.example.com)"
      secret: false
      multiline: false
      required: true

    - id: auth_method
      type: string
      label: Authentication Method
      choices:
        - token
        - approle
        - jwt
      help_text: "Select Vault auth method."
      required: true

    # --- Token fields ---
    - id: token_value
      type: string
      label: Vault Token
      secret: true
      help_text: "Vault token (if using token auth)."

    # --- AppRole fields ---
    - id: approle_role_id
      type: string
      label: AppRole Role ID
      help_text: "Role ID for AppRole authentication."

    - id: approle_secret_id
      type: string
      label: AppRole Secret ID
      secret: true
      help_text: "Secret ID for AppRole authentication."

    - id: approle_mount_point
      type: string
      label: AppRole Mount Path
      default: approle
      help_text: "Mount path for AppRole (default: approle)."

    # --- JWT fields ---
    - id: jwt_token
      type: string
      label: JWT Token
      secret: true
      help_text: "JWT token for JWT authentication."

    - id: jwt_role
      type: string
      label: JWT Role
      help_text: "Vault role name for JWT authentication."

    - id: jwt_mount_point
      type: string
      label: JWT Mount Path
      default: jwt
      help_text: "Mount path for JWT (default: jwt)."

  required:
    - url
    - auth_method
