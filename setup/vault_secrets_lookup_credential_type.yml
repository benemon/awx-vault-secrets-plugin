---
name: Vault Secrets Lookup
kind: external
description: >
  Resolves secret values from Vault using the Vault Secrets Plugin.
inputs:
  fields:
    - id: engine_type
      type: string
      label: Engine Type
      choices:
        - static
        - dynamic
      help_text: "Select static (KV) or dynamic engine."
      required: true

    - id: mount
      type: string
      label: Mount
      help_text: "Vault mount path (e.g., kv, database)."
      required: true

    - id: path
      type: string
      label: Secret Path
      help_text: "Path to secret or role."
      required: true

    - id: version
      type: integer
      label: Version
      help_text: "Version (only for KV v2)."

    - id: params
      type: string
      multiline: true
      label: Params (JSON)
      help_text: "Optional JSON body for dynamic secrets."

    - id: secret_key
      type: string
      label: Secret Key
      help_text: "Specific key to extract from Vault response."

  required:
    - engine_type
    - mount
    - path

plugin: vault_secrets
injectors:
  env: {}
